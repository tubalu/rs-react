(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{930:(e,t,l)=>{Promise.resolve().then(l.bind(l,1563))},1563:(e,t,l)=>{"use strict";l.d(t,{default:()=>a});var i=l(5155),n=l(2115);l(6751);let a=()=>{let[e,t]=(0,n.useState)([]),[l,a]=(0,n.useState)("playing"),[r,s]=(0,n.useState)(40),[o,u]=(0,n.useState)(0),[f,d]=(0,n.useState)(!0),[g,c]=(0,n.useState)({left:!1,right:!1}),h=(0,n.useCallback)(()=>Array(16).fill(null).map(()=>Array(16).fill(null).map(()=>({isMine:!1,isRevealed:!1,isFlagged:!1,neighborCount:0}))),[]),v=(0,n.useCallback)((e,t,l)=>{let i=e.map(e=>e.map(e=>({...e}))),n=0;for(;n<40;){let e=Math.floor(16*Math.random()),a=Math.floor(16*Math.random());!i[e][a].isMine&&(e!==t||a!==l)&&(i[e][a].isMine=!0,n++)}for(let e=0;e<16;e++)for(let t=0;t<16;t++)if(!i[e][t].isMine){let l=0;for(let n=-1;n<=1;n++)for(let a=-1;a<=1;a++){let r=e+n,s=t+a;r>=0&&r<16&&s>=0&&s<16&&i[r][s].isMine&&l++}i[e][t].neighborCount=l}return i},[]),b=(0,n.useCallback)(()=>{t(h()),a("playing"),s(40),u(0),d(!0)},[h]);(0,n.useEffect)(()=>{b()},[b]),(0,n.useEffect)(()=>{let e;return"playing"!==l||f||(e=setInterval(()=>{u(e=>Math.min(e+1,999))},1e3)),()=>clearInterval(e)},[l,f]);let p=(i,n)=>{if("playing"!==l||!e[i][n].isRevealed||e[i][n].isMine)return;let r=((e,t)=>{let l=[];for(let i=-1;i<=1;i++)for(let n=-1;n<=1;n++){let a=e+i,r=t+n;a>=0&&a<16&&r>=0&&r<16&&(0!==i||0!==n)&&l.push({row:a,col:r})}return l})(i,n);if(r.filter(t=>{let{row:l,col:i}=t;return e[l][i].isFlagged}).length===e[i][n].neighborCount){let l=[...e],o=!1;if(f){let e=v(l,i,n);l.splice(0,l.length,...e),d(!1)}let u=(e,t)=>{if(!(e<0)&&!(e>=16)&&!(t<0)&&!(t>=16)&&!l[e][t].isRevealed&&!l[e][t].isFlagged){if(l[e][t].isRevealed=!0,l[e][t].isMine){o=!0;return}if(0===l[e][t].neighborCount)for(let l=-1;l<=1;l++)for(let i=-1;i<=1;i++)u(e+l,t+i)}};if(r.forEach(e=>{let{row:t,col:i}=e;l[t][i].isFlagged||u(t,i)}),o){a("lost");for(let e=0;e<16;e++)for(let t=0;t<16;t++)l[e][t].isMine&&(l[e][t].isRevealed=!0)}if(t(l),!o){let e=0;for(let t=0;t<16;t++)for(let i=0;i<16;i++)l[t][i].isRevealed&&!l[t][i].isMine&&e++;216===e&&(a("won"),s(0))}}};return(0,i.jsxs)("div",{className:"minesweeper",children:[(0,i.jsxs)("div",{className:"game-header",children:[(0,i.jsx)("div",{className:"counter",children:String(r).padStart(3,"0")}),(0,i.jsx)("button",{className:"reset-button",onClick:b,children:"lost"===l?"\uD83D\uDE35":"won"===l?"\uD83D\uDE0E":"\uD83D\uDE42"}),(0,i.jsx)("div",{className:"counter",children:String(o).padStart(3,"0")})]}),(0,i.jsx)("div",{className:"game-board",children:e.map((n,r)=>(0,i.jsx)("div",{className:"row",children:n.map((n,o)=>(0,i.jsx)("button",{className:(e=>{let t="cell";return e.isRevealed?(t+=" revealed",e.isMine?t+=" mine":e.neighborCount>0&&(t+=" number-".concat(e.neighborCount))):t+=" hidden",t})(n),onMouseDown:e=>((e,t,l)=>{0===e.button?c(e=>({...e,left:!0})):2===e.button&&c(e=>({...e,right:!0}))})(e,0,0),onMouseUp:i=>((i,n,r)=>{let o=g.left,u=g.right;0===i.button?(c(e=>({...e,left:!1})),o&&u?p(n,r):u||((i,n)=>{if("playing"!==l||e[i][n].isRevealed||e[i][n].isFlagged)return;let r=[...e];f&&(r=v(r,i,n),d(!1));let o=(e,t)=>{if(!(e<0)&&!(e>=16)&&!(t<0)&&!(t>=16)&&!r[e][t].isRevealed&&!r[e][t].isFlagged){if(r[e][t].isRevealed=!0,r[e][t].isMine){a("lost");for(let e=0;e<16;e++)for(let t=0;t<16;t++)r[e][t].isMine&&(r[e][t].isRevealed=!0);return}if(0===r[e][t].neighborCount)for(let l=-1;l<=1;l++)for(let i=-1;i<=1;i++)o(e+l,t+i)}};o(i,n),t(r);let u=0;for(let e=0;e<16;e++)for(let t=0;t<16;t++)r[e][t].isRevealed&&!r[e][t].isMine&&u++;216===u&&(a("won"),s(0))})(n,r)):2===i.button&&(c(e=>({...e,right:!1})),o&&u&&p(n,r))})(i,r,o),onContextMenu:i=>{i.preventDefault(),g.left||((i,n,a)=>{if(i.preventDefault(),"playing"!==l||e[n][a].isRevealed)return;let r=[...e];r[n][a].isFlagged=!r[n][a].isFlagged,s(e=>r[n][a].isFlagged?e-1:e+1),t(r)})(i,r,o)},disabled:"playing"!==l,children:(e=>e.isFlagged?"\uD83D\uDEA9":e.isRevealed?e.isMine?"\uD83D\uDCA3":0===e.neighborCount?"":e.neighborCount:"")(n)},"".concat(r,"-").concat(o)))},r))})]})}},6751:()=>{}},e=>{e.O(0,[878,441,964,358],()=>e(e.s=930)),_N_E=e.O()}]);